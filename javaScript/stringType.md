# 1. Today I Learned

## string type

- 문자열의 데이터 타입이다. 즉, 문자열은 string 타입이다.

- 컴퓨터 분야에서는 문자의 나열(string)이라는 뜻에서 문자열을 'string'이라고 부른다.

- 자바스크립트 문자열은 내부적으로 [유니코드](https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EC%BD%94%EB%93%9C)를 통해 표현된다.

---

### 1. 유니코드란?
- 유니코드협회(Unicode Consortium)이 제정한 전세계의 모든 문자를 컴퓨터에서 일관되게 표현하고 다룰 수 있도록 설계된 산업 표준이다. 


- 아스키 코드로 표현할 수 없는 문자들을 유니코드라는 이름 아래 그 모든 문자들을 특정 숫자와 1:1 매핑한 것이다. 


- 즉, 전세계의 모든 문자에 특정 숫자로 표현되는 '키'를 붙였고, 해당 키가 할당된 문자들이 '값'이며, 유니코드란 이 키와 값이 1:1로 매핑된 형태의 코드인 것이다.


- 유니코드는 현재 2<sup>20</sup>+2<sup>16</sup> 개수 만큼의 공간을 사용하고 있기 때문에 모든 한자를 담고있지 못하다는 것을 빼면 전세계 대부분의 문자가 전부 유니코드에 담겨있다고 봐도 무방하다. 
    - 심지어 `이모지`도 유니코드에 문자로써 포함되어 있다. 
    http://graphemica.com/%F0%9F%98%9E


#### 유니코드 코드 포인트

- 유니코드 문자들에는 모두 Unicode Code Point라고 불리는 숫자(=번호)가 부여되어 있는데, 이것을 문자의 키라고 생각할 수 있다.

    ```
    가 : U+AC00
    ```
    - 한글 '가' 문자에 부여된 유니코드 코드 포인트 이다.
    
    - 번호의 접두어에 `U+`가 붙어있으면 해당 문자가 유니코드 문자라는 뜻 
    
    - 뒤에 오는 4자리 혹은 이상의 번호는 16진수로 되어있다.

    - [유니코드 표](http://graphemica.com/)

#### utf-8 과 utf-16

- 위에서 본 이런 `유니코드`를 0과 1로 이루어진 컴퓨터의 언어처럼 2진수로 변환을 하게 되는데, 이 변환 과정 자체를 `인코딩(부호화)`라 부르며, `utf-8`과 `utf-16`은 인코딩 방식 중 하나인 것이다.
- 즉, 어떤 형식으로 인코딩을 하느냐에 따라 utf-8 방식과 utf-16 방식으로 나눌 수 있다.

    ```
    아직은 인코딩 형식에 대해선 이정도 밖에 모르겠다..
    ```

---

### 2. 문자열 리터럴

javaScript는 문자열 값을 표현하기 위해 여러가지 리터럴을 제공한다.

    ```js
    'cat' // 홑따옴표

    "cat" // 쌍따옴표

    `cat` // 백틱
    ```
이들은 서로 다른 표기법일 뿐 값에는 전혀 영향을 끼치지 않는다. 

리터럴을 위해 사용한 따옴표와 다른 종류의 따옴표들은 문자열 내에서 자유롭게 쓸 수 있지만 같은 종류의 따옴표는 내부적으로 포함할 수 없다.

```js
// 가능

"cat 'dog'";
'cat `dog`';
`cat "dog"`;

// 문법에러 :(

"cat "dog"";
SyntaxError: Unexpected token, ...; 
```

cat의 앞 따옴표와 dog의 앞 따옴표를 한 쌍으로 간주하여 "cat  " 리터럴로 인식하게 되는 형식으로 진행되기 때문에 문법 에러를 발생시킨다.


#### 2-1. templete literal(``)
- ES2015에서 도입되었고, 추가적인 기능을 지원한다. 

- 내삽 기능(interpolation)

    - 문자열안에 변수를 포함하여 변수의 값이 변할 때 문자열 속의 변수의 문자열도 값과 같이 변환될 수 있게 하고 싶을 때 사용하면 편리하다. 

    템플릿 리터럴이 없었을 때 :
    ```js
    const input = prompt('favorite animal?: ');
    console.log('favorite animal?: '+input);
    ```
    출력 값 :
    ```
    favorite animal?: 입력받은 값
    ```

    템플릿 리터럴과 ${ } 사용 시 :
     ```js
    const input = prompt('favorite animal?: ');
    console.log(`favorite animal?: ${input}`);
    ```
    출력 값 : 
    ```
    favorite animal?: 입력받은 값
    ```

- 여러줄로 이루어진 문자열을 쉽게 표현할 수 있다.

- 보통은 ' ' / " " 사용하고 특별한 기능이 필요할 때만 템플릿 리터럴을 사용하는 편이라고 한다.

- 함수 호출도 가능.

#### 2-2. Escape Sequence

- JavaScript는 특수 문자를 문자열에 넣거나, 혹은 직접 유니코드 코드포인트를 사용해서 문자를 넣을 수 있도록 해주는 escape sequence를 제공한다.

    ```
    \'	 홑따옴표 
    \"	 쌍따옴표
    \\	 백슬래시
    \n	 라인 피드 (LF)
    \r	 캐리지 리턴 (CR)
    \t	 탭
    \uXXXX 	 유니코드 문자 (코드포인트가 4자리수일 때)
    \u{X...} 유니코드 문자 (코드포인트가 5자리수 이상일 때)
    ```

- `\` 는 뒤에 들어오는 특수문자 / 유니코드 코드포인트를 사용해서 문자를 넣을 것이라는 시작 명령(?) 같은 것이며 해당 string type의 값에는 전혀 포함되지 않는다. 하나의 문자열이라고 생각하면 안됨!
    
    ```
    '\"'.length = 1 ( " 만이 값이 됨)
    ```

- 따옴표는 escape sequence로 포함해도 되기는 하지만 다른 종류의 따옴표라면 문자열 안에 자유롭게 포함할 수 있기 때문에 굳이 escape sequence로 사용하지 않아도 될 것 같다. 
    
    ```js
    '\'cat\'' or "'cat'"
    ```

- `\n` 과 `\r` 은 둘 다 개행문자이며 운영 체제마다 엔터를 입력하는 문자가 달라 두개가 생긴 것이지 기능의 차이점은 없다. 
    - 현재 맥과 리눅스는 `LF`, 윈도우는 `CR+LF`가 개행문자로 사용되고 있다.

---

### 3. 문자열과 연산자

문자열에서도 연산자를 사용할 수 있다. 

```js
// + 산술연산자
'cats' + 'paw' // 'catspaw'
```
산술연산자는 넘버타입을 계산할 때 최적화되어있긴 하지만, 단순히 문자열끼리를 이어붙일 때만큼은 써도 좋다.

```js
// 등호 비교

'a' === 'a'; // true
'b' !== 'b'; // false

'a' === '\u0061' // true
'a' === 'U+0061' // false 
```

```js
// 부등호

문자열끼리 비교를 할 때는 해당 문자열의 유니코드 코드포인트를 비교한다.

'a' < 'b' // U+0061 < U+0062의 의미 // true
```

비교는 앞에서 부터 한글자씩 비교해 나아가며 첫번째로 다른 글자에서 비교를 멈추고 그 때의 판별 값을 값으로 가진다.

```js
'aaa' < 'abc'; // true
```

1. 첫글자 a 같음. 다음 글자로 이동.
2. 두번째 글자 a < b 는 true
3. 세번째 글자 비교하지 않고 바로 true가 됨. 

```js
'abbbbbb' < 'baaaaaa'; // true
```

첫글자 비교에서 오른쪽이 크기 때문에 다음 글자 상관없이 true.

```js
// 문자열 비교는 코드포인트 비교이기 때문에 사전순 비교와 착각하면 안된다.

'a' < 'Z'; // U+0061 < U+005A// false

'2' < '10' // 앞글자부터 비교, '2' < '1' 
// 즉, U+0032 < U+0031 // false
```

만약, 사전순 비교를 하고 싶다면 .localeCompare() 메소드를 사용한다.

```js
'b'.localeCompare('a'); // 1
'b'.localeCompare('b'); // 0
'b'.localeCompare('Z'); // -1
'가나다'.localeCompare('마바사'); // -1
```

사전순으로,
- 왼쪽 === 오른쪽 이면 0
- 왼쪽 > 오른쪽 이면 1
- 왼쪽 < 오른쪽 이면 -1 

```js
// 문자열을 배열로 바꾸기

[...'cat']; // ['c', 'a', 't']

// .split() 메소드를 사용할 수도 있다.
```

---

### 4. 속성 및 메소드

string type도 number type과 마찬가지로 객체처럼 사용할 수 있다. 문자열이 저장되어 있는 변수를 쓸 수도 있음.

```js
// 문자열의 길이 알아내기

'cat'.length; // 3
```
```js
// 여러 문자열 연결하기

'cat'.concat('so', 'cute'); // 'catsocute'
```
단, 단순 문자열 연결은 + 연산자도 있다!

```js
// 특정 문자열을 반복하는 새 문자열 생성하기

'x'.repeat(y) // x문자열을 y번 반복한 새 문자열

'*'.repeat(3) // '***' 
```

```js
// 특정 문자열이 포함되어 있는지 확인하기

// 특정 문자열이 단순히 포함 되어 있는지
'cat and dog'.includes('cat'); // true

// 문자열의 시작이 특정 문자열인지
'cat and dog'.startsWith('c'); // true

// 문자열의 끝이 특정 문자열인지
'cat and dog'.endsWith('g'); // true

// 특정 문자열의 인덱스 값
'cat and dog'.indexOf('and'); // 4
//.indexOf 메소드에서 포함되어 있지 않은 문자열을 지정하면 값이 -1 이다.
```

그래서, .includes 메소드가 나오기 전에는 .indexOf로 특정 문자열의 포함 여부를 판단했다.
- 'hello'.indexOf('h') !== -1
- `true`면 `포함`, `false`면 값이 -1이라는 뜻이니 `미포함`

```js
// 문자열의 특정 부분을 바꾼 새 문자열 생성하기

'cat and dog'.replace('dog', 'mouse') // 'cat and mouse'
```
```js
// 문자열의 일부를 잘라낸 새 문자열 생성하기
// 원본 문자열을 변경하지 않기 때문에 변수를 사용해서 메소드를 쓰면 문자열 변경 안됨.

'mouse'.slice(x, y);
```
- 해당 문자열의 x번째 인덱스 부터 y-1번 인덱스까지 보존 (자른다는 의미). 

- 혹은, 문자 사이 간격에다가 0부터의 인덱스를 부여하고, x번틈과 y번틈 사이 문자열을 자르겠다라고 생각해도 된다.

```js
'mouse'.slice(1, 4); // ous
// 1번 인덱스 부터 4-1= 3번째 인덱스까지 보존.
// 1번  o , 3번 = s

// 인수를 하나만 쓰면 해당 인덱스부터 끝까지 다 자른다.
'catandmouse'.slice(6) // 'mouse'

// 인수를 비우면 전체를 자른다.
'cat'.slice() // 'cat' 
```
```js
// 좌우 공백문자를 제거한 새 문자열 생성하기
// 이 메소드도 원본 문자열을 변경 하지 않는다.

'   cat  '.trim(); // 'cat'
'   cat  '.trimLeft(); // 'cat  '
'   cat  '.trimRight(); // '   cat'
```

```js
// 좌우 공백문자를 추가한 새 문자열 생성하기

'cat'.padStart(6); // '   cat'
'cat'.padEnd(6); // 'cat   '
```
- 'a'.padStart/end(x)의 x는 'x = a 문자열 수 + 시작/끝 공백 수'
- 즉, 순수한 공백 수 = x - a 문자열 수

```js
// 문자열을 배열로 바꾸기

'cat'.split(''); // ['c', 'a', 't']

// 문자열을 특정 문자를 기준으로 잘라 새 배열 생성하기

'cat!and!dog'.split('!'); // ['cat', 'and', 'dog']
// ! 를 기준으로 뭉치로 쪼개서 배열 하고 싶을 때
```

```js
// 모든 문자를 소문자, 혹은 대문자로 변환한 새 문자열 생성하기

'Russian Blue'.toLowerCase(); // 'russian blue'
'Russian Blue'.toUpperCase(); // 'RUSSIAN BLUE'

// 어떤 문자열들을 대소문자 구분없이 판별하고 싶을 때 자주 사용한다.
```

# 2. Today I Found Out

```
아직 간단한 코드 작성할 때도 버벅거리지만.. 그래도 재밌당.
유니코드 인코딩 방식 등 컴퓨터 사이언스 관련한 지식이 별로 없으니 좀 답답하고 뭔가 물 위에서만(?) 공부하는 것 같은 느낌이 들어서 
실제 코드 작성이 조금 익숙해지면 그 부분도 공부해보고 싶다.
```

# 3. reference
- https://helloworldjavascript.net/pages/140-string.html

- 유니코드와 인코딩 형식 관련
https://norux.me/31